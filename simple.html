<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>Happy Valentine‚Äôs, GZ ü§ç</title>

<style>
  :root{
    --pink:#ff6fb5;
    --pink2:#ff4fa3;
    --lilac:#c9b6ff;
    --bg1:#fff2f8;
    --bg2:#ffe8f3;

    --ink:#2b1b2a;
    --muted:#6b4a66;

    --shadow: 0 18px 60px rgba(69,18,52,.18);
    --radius: 22px;

    --cardW: min(92vw, 720px);
    --cardPad: clamp(16px, 3.2vw, 26px);
  }

  *{ box-sizing:border-box }
  html,body{ height:100% }

  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    color: var(--ink);
    background:
      radial-gradient(900px 520px at 20% 10%, rgba(255,79,163,.18), transparent 60%),
      radial-gradient(820px 520px at 80% 15%, rgba(201,182,255,.22), transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg2));
    overflow:hidden;
  }

  /* subtle hearts pattern */
  body::before{
    content:"";
    position:fixed; inset:0;
    pointer-events:none;
    opacity:.24;
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cpath d='M22 28c0-4.2 3.4-7.6 7.6-7.6 2.5 0 4.9 1.2 6.3 3.1 1.4-1.9 3.8-3.1 6.3-3.1 4.2 0 7.6 3.4 7.6 7.6 0 8.7-13.9 16.4-13.9 16.4S22 36.7 22 28z' fill='%23ff8cc7' fill-opacity='.20'/%3E%3Cpath d='M108 68c0-3.4 2.7-6.1 6.1-6.1 2 0 3.9 1 5.1 2.5 1.2-1.5 3.1-2.5 5.1-2.5 3.4 0 6.1 2.7 6.1 6.1 0 7-11.2 13.2-11.2 13.2S108 75 108 68z' fill='%23c9b6ff' fill-opacity='.18'/%3E%3C/svg%3E");
    background-size: 240px 240px;
    mix-blend-mode:multiply;
  }

  /* floaties */
  .float{
    position:absolute;
    bottom:-24px;
    opacity:0;
    animation: floatUp linear forwards;
    filter: drop-shadow(0 12px 22px rgba(69,18,52,.12));
    user-select:none;
    pointer-events:none;
  }
  @keyframes floatUp{
    0%{ transform:translateY(0) translateX(0) scale(.92); opacity:0; }
    12%{ opacity:.9; }
    100%{ transform:translateY(-120vh) translateX(var(--drift)) scale(1.22); opacity:0; }
  }

  .wrap{
    min-height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: max(18px, env(safe-area-inset-top)) 16px max(18px, env(safe-area-inset-bottom));
    position:relative;
  }

  .card{
    width: var(--cardW);
    text-align:center;
    padding: 10px 10px 18px;
    opacity:0;
    transform: translateY(10px) scale(.99);
    animation: fadeUp .9s .08s forwards;
  }
  @keyframes fadeUp{ to{ opacity:1; transform: translateY(0) scale(1); } }

  .title{
    margin:0 0 8px;
    font-size: clamp(22px, 4.5vw, 34px);
    letter-spacing:-.6px;
    color: transparent;
    background: linear-gradient(90deg, var(--pink2), var(--lilac));
    -webkit-background-clip:text;
            background-clip:text;
    font-weight:900;
  }

  .hint{
    margin:0 0 14px;
    font-size: 13.5px;
    color: var(--muted);
    font-weight:800;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
  }
  .pulse{
    width:10px; height:10px; border-radius:999px;
    background: rgba(255,79,163,.65);
    box-shadow: 0 0 0 0 rgba(255,79,163,.22);
    animation: ping 1.35s ease-out infinite;
  }
  @keyframes ping{
    0%{ box-shadow: 0 0 0 0 rgba(255,79,163,.22); transform: scale(1); }
    100%{ box-shadow: 0 0 0 18px rgba(255,79,163,0); transform: scale(1.2); }
  }

  /* SCENE */
  .scene{
    position:relative;
    width: 100%;
    display:grid;
    place-items:center;
    perspective: 1200px;
  }

  /* ENVELOPE (front) */
  .env{
    width: min(92vw, 560px);
    height: clamp(220px, 38vh, 320px);
    border-radius: var(--radius);
    position:relative;
    cursor:pointer;
    outline:none;
    -webkit-tap-highlight-color: transparent;
    transform-style: preserve-3d;
    transition: transform .25s ease;
  }
  .env:active{ transform: scale(.985); }

  .env-body{
    position:absolute; inset:0;
    border-radius: var(--radius);
    background: rgba(255,255,255,.90);
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .env-body::after{
    content:"";
    position:absolute; inset: 12px;
    border-radius: calc(var(--radius) - 6px);
    border: 1px solid rgba(43,27,42,.08);
    background: rgba(255,255,255,.28);
    pointer-events:none;
  }

  /* envelope flap */
  .env-flap{
    position:absolute; inset:0;
    transform-origin: top center;
    transition: transform 900ms cubic-bezier(.2,.9,.2,1);
    filter: drop-shadow(0 16px 22px rgba(69,18,52,.10));
    z-index: 6;
  }
  .env-flap::before{
    content:"";
    position:absolute;
    left:0; right:0; top:0;
    height: 62%;
    clip-path: polygon(0 0, 100% 0, 50% 62%);
    background: linear-gradient(180deg, var(--pink), var(--lilac));
  }

  /* folds */
  .foldL, .foldR, .foldB{
    position:absolute; bottom:0;
    z-index: 5;
    filter: drop-shadow(0 10px 18px rgba(69,18,52,.08));
  }
  .foldL{ left:0; width:50%; height:62%; }
  .foldL::before{
    content:""; position:absolute; inset:0;
    background:#fff;
    clip-path: polygon(0 0, 100% 50%, 0 100%);
    border-bottom-left-radius: var(--radius);
  }
  .foldR{ right:0; width:50%; height:62%; }
  .foldR::before{
    content:""; position:absolute; inset:0;
    background:#fff;
    clip-path: polygon(100% 0, 100% 100%, 0 50%);
    border-bottom-right-radius: var(--radius);
  }
  .foldB{
    left:0; right:0;
    height:58%;
    z-index: 4;
  }
  .foldB::before{
    content:""; position:absolute; inset:0;
    background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.76));
    clip-path: polygon(0 100%, 100% 100%, 50% 0);
  }

  .seal{
    position:absolute;
    left:50%;
    top: 48%;
    transform: translate(-50%, -50%);
    width: 58px;
    height: 58px;
    border-radius: 999px;
    background: linear-gradient(180deg, var(--pink2), var(--lilac));
    color: #fff;
    display:grid;
    place-items:center;
    font-weight:900;
    box-shadow: 0 10px 20px rgba(69,18,52,.18);
    z-index: 7;
    transition: transform 500ms cubic-bezier(.2,.9,.2,1), opacity 250ms ease;
  }

  /* MESSAGE PANEL (hidden at first) */
  .msg{
    position:absolute;
    width: min(92vw, 720px);
    max-height: min(72vh, 560px);
    border-radius: 22px;
    background: rgba(255,255,255,.94);
    box-shadow: var(--shadow);
    border: 1px solid rgba(43,27,42,.08);
    overflow:hidden;
    padding: 0;
    opacity:0;
    transform: translateY(12px) scale(.98);
    pointer-events:none;
  }

  .msgHead{
    padding: 12px 14px 10px;
    border-bottom: 1px solid rgba(43,27,42,.08);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    font-weight:900;
    color: rgba(43,27,42,.88);
  }
  .mini{
    font-size:12px;
    color: rgba(107,74,102,.95);
    font-weight:800;
    display:flex; align-items:center; gap:8px;
  }
  .dot{
    width:10px; height:10px; border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, var(--pink2));
    box-shadow: 0 0 14px rgba(255,79,163,.22);
  }

  .msgBody{
    padding: 14px 16px 16px;
    font-size: 14.2px;
    line-height: 1.75;
    color: rgba(43,27,42,.90);
    overflow:auto;
    max-height: calc(min(72vh, 560px) - 48px);
    text-align:left;
    scrollbar-width: thin;
  }
  .msgBody::-webkit-scrollbar{ width: 10px; }
  .msgBody::-webkit-scrollbar-thumb{
    background: rgba(255,111,181,.35);
    border-radius: 999px;
    border: 3px solid rgba(255,255,255,.85);
  }

  .closeHint{
    margin-top: 12px;
    font-size: 12.5px;
    color: rgba(107,74,102,.92);
    font-weight:800;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
  }

  /* === OPEN MODE: envelope flips away, message flies in === */
  .open .env{
    animation: envFlipAway 820ms cubic-bezier(.2,.95,.2,1) forwards;
  }
  @keyframes envFlipAway{
    0%   { transform: rotateX(0deg) translateY(0) scale(1); opacity:1; }
    45%  { transform: rotateX(14deg) translateY(-8px) scale(.99); }
    100% { transform: rotateX(88deg) translateY(-26px) scale(.94); opacity:0; }
  }

  .open .env-flap{
    transform: rotateX(178deg);
  }
  .open .seal{
    opacity:0;
    transform: translate(-50%, -50%) scale(.86);
  }

  .open .msg{
    pointer-events:auto;
    animation: msgFlyIn 820ms cubic-bezier(.2,.95,.2,1) forwards;
  }
  @keyframes msgFlyIn{
    0%   { opacity:0; transform: translateY(18px) scale(.98); }
    65%  { opacity:1; transform: translateY(-6px) scale(1.01); }
    100% { opacity:1; transform: translateY(0px) scale(1); }
  }

  /* close mode: message flies out, envelope returns */
  .closing .msg{
    pointer-events:none;
    animation: msgFlyOut 520ms cubic-bezier(.2,.9,.2,1) forwards;
  }
  @keyframes msgFlyOut{
    0%   { opacity:1; transform: translateY(0) scale(1); }
    100% { opacity:0; transform: translateY(16px) scale(.98); }
  }

  .closing .env{
    opacity:1;
    animation: envReturn 520ms cubic-bezier(.2,.9,.2,1) forwards;
  }
  @keyframes envReturn{
    0%   { transform: rotateX(88deg) translateY(-26px) scale(.94); opacity:0; }
    100% { transform: rotateX(0deg) translateY(0) scale(1); opacity:1; }
  }

  /* make sure it feels great on tablets */
  @media (min-width: 768px) and (max-width: 1024px){
    .env{ width: min(70vw, 600px); height: clamp(260px, 40vh, 360px); }
  }

  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important; }
  }
</style>
</head>

<body>
  <main class="wrap">
    <section class="card" id="root">
      <h1 class="title">A Quiet Note for GZ ü§ç</h1>
      <div class="hint"><span class="pulse"></span><span>Tap the envelope to open üíå</span></div>

      <div class="scene">
        <!-- envelope -->
        <div class="env" id="env" role="button" tabindex="0" aria-label="Open envelope">
          <div class="env-body"></div>
          <div class="env-flap"></div>
          <div class="foldL"></div>
          <div class="foldR"></div>
          <div class="foldB"></div>
          <div class="seal">GZ</div>
        </div>

        <!-- message (shows fully, no envelope blocking) -->
        <div class="msg" id="msg" aria-live="polite">
          <div class="msgHead">
            <span>To: GZ</span>
            <span class="mini"><span class="dot"></span>valentine note</span>
          </div>
          <div class="msgBody" id="msgBody">
            Hi GZ.

            <br><br>
            Medyo random ‚Äòto, at oo‚Ä¶ medyo nakakahiya üòÖ
            Kasi if I‚Äôm being honest, twice lang naman talaga tayo nagkita nang personal‚Äîand both times kasama pa circle natin.
            Hindi tayo yung super close, hindi rin yung laging magkasama or nag-oouting.

            <br><br>
            Pero since Valentine‚Äôs, I just wanted to say something na matagal ko nang tinago.

            <br><br>
            Back in high school, I had a quiet crush on you.
            Hindi ko lang sinabi noon kasi I chose to stay as a friend.
            May mga bagay ka ring pinagdaanan or may mga taong kausap, and I respected that.
            Ayoko rin talagang mag-complicate ng kahit ano.

            <br><br>
            Even if hindi tayo madalas magkasama, you left an impression on me.
            I admired how confident you were‚Äîat the same time smart and composed.
            Lalo na nung leader ka before, kita mo talaga yung presence mo.

            <br><br>
            And seeing you now‚Ä¶ grabe.
            Ang layo na ng narating mo.
            I‚Äôm genuinely proud of you‚Äînot just for what you‚Äôve achieved, but for the way you carry yourself.

            <br><br>
            I just want you to know that I pray for you too.
            I pray that you continue to reach even greater heights‚Äîmas marami ka pang marating in life‚Äî
            and that every dream you‚Äôre working hard for will unfold in the right time.

            <br><br>
            I pray that you‚Äôll always keep safe, protected, and guided‚Äîespecially sa lahat ng ginagawa mo.
            And I hope you never lose that confidence and grace that make you who you are.

            <br><br>
            Just to be clear: I‚Äôm not saying this to expect anything or to change anything between us.
            Gusto ko lang maging honest for once, peacefully‚Äîkasi minsan, sayang yung mga genuine na bagay pag laging tinatago.

            <br><br>
            Ayun lang.

            <br><br>
            Happy Valentine‚Äôs, GZ. ü§ç
          </div>
        </div>
      </div>

      <div class="closeHint">
        <span class="pulse" style="animation-delay:.25s"></span>
        <span>Tap again to close ‚Ä¢ Press Enter also works</span>
      </div>
    </section>
  </main>

<script>
  const root = document.getElementById("root");
  const env = document.getElementById("env");
  const msgBody = document.getElementById("msgBody");

  let isOpen = false;
  let isAnimating = false;

  function sparkle(n=10){
    const set = ["üíó","ü§ç","‚ú®","üå∏","üéÄ"];
    for(let i=0;i<n;i++){
      setTimeout(()=>{
        const el = document.createElement("div");
        el.className = "float";
        el.textContent = set[(Math.random()*set.length)|0];

        const left = Math.random()*100;
        const size = 14 + Math.random()*14;
        const dur = 6 + Math.random()*5;
        const drift = (Math.random()*120 - 60).toFixed(0) + "px";

        el.style.left = left + "vw";
        el.style.fontSize = size + "px";
        el.style.animationDuration = dur + "s";
        el.style.setProperty("--drift", drift);

        document.body.appendChild(el);
        setTimeout(()=> el.remove(), (dur+0.2)*1000);
      }, i*70);
    }
  }
  sparkle(10);
  setInterval(()=>sparkle(1), 700);

  function openCard(){
    if(isAnimating) return;
    isAnimating = true;
    root.classList.remove("closing");
    root.classList.add("open");
    isOpen = true;
    sparkle(12);

    // ensure message starts at top
    setTimeout(()=>{ msgBody.scrollTop = 0; }, 250);

    setTimeout(()=>{ isAnimating = false; }, 900);
  }

  function closeCard(){
    if(isAnimating) return;
    isAnimating = true;
    root.classList.add("closing");
    root.classList.remove("open");
    isOpen = false;
    sparkle(8);

    // end closing then clean class
    setTimeout(()=>{
      root.classList.remove("closing");
      isAnimating = false;
    }, 540);
  }

  function toggle(){
    if(!isOpen) openCard();
    else closeCard();
  }

  env.addEventListener("click", toggle);
  // also allow click anywhere on message to close
  document.getElementById("msg").addEventListener("click", closeCard);

  env.addEventListener("keydown", (e)=>{
    if(e.key === "Enter" || e.key === " "){
      e.preventDefault();
      toggle();
    }
  });

  window.addEventListener("keydown", (e)=>{
    if(e.key === "Escape" && isOpen) closeCard();
  });
</script>
</body>
</html>
